# Application Configuration
spring.application.name=detect-backup-ransomware-service
server.port=8080

# PostgreSQL Configuration (para registro de backups)
spring.datasource.url=jdbc:postgresql://${DB_HOST:localhost}:${DB_PORT:5432}/${DB_NAME:backup_monitoring_db}?sslmode=require
spring.datasource.username=${DB_USERNAME:postgres}
spring.datasource.password=${DB_PASSWORD:password}
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA Configuration
spring.jpa.hibernate.ddl-auto=none
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.jdbc.batch_size=50

# Liquibase Configuration
spring.liquibase.change-log=classpath:db/changelog/db.changelog-master.yaml
spring.liquibase.enabled=true
spring.liquibase.drop-first=false

# Connection Pool Configuration
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.idle-timeout=600000
spring.datasource.hikari.max-lifetime=1800000

# GCP Cloud Storage Configuration
gcp.storage.backup-bucket=${GCS_BACKUP_BUCKET:backup-bucket}
gcp.storage.backup-prefix=${GCS_BACKUP_PREFIX:backups/}

# GCP Cloud SQL Configuration
gcp.sql.instance-id=${CLOUD_SQL_INSTANCE_ID:}

# GCP Cloud DLP Configuration
gcp.dlp.project-id=${GOOGLE_CLOUD_PROJECT:}
gcp.dlp.enabled=${DLP_ENABLED:true}

# GCP Cloud Monitoring Configuration
gcp.monitoring.project-id=${GOOGLE_CLOUD_PROJECT:}
app.alerts.enabled=${ALERTS_ENABLED:true}

# Pub/Sub Configuration
app.pubsub.enabled=${PUBSUB_ENABLED:true}
app.pubsub.subscription=${PUBSUB_SUBSCRIPTION:backup-request-subscription}

# Actuator Configuration
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=when-authorized

# Logging Configuration
logging.level.com.example.detectbackupransomware=INFO
logging.level.org.springframework.web=WARN
logging.level.org.hibernate=WARN
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n

# Error Handling
server.error.include-message=always
server.error.include-binding-errors=always

